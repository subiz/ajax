!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.beta=t():e.beta=t()}("undefined"!=typeof self?self:this,(()=>{return e={237:(e,t,r)=>{"use strict";var n=r(964);n.env.XMLHttpRequest=window.XMLHttpRequest,n.env.window=window,e.exports=n},964:e=>{var t="Content-Type",r="application/x-www-form-urlencoded",n="application/json; charset=utf-8";function o(e,t){return Object.assign(e.clone(),t)}var s={code:"network_error,retry",number:"SBZ-EQNETWORK",message:{En_US:"Can not connect to server",Vi_VN:"Không thể kết nối tới máy chủ"}},i={code:"invalid_response,retry",number:"SBZ-EQRESPONSE",message:{En_US:"Server error, please try again later",Vi_VN:"Lỗi máy chủ, vui lòng thử lại sau"}},u={code:"not_200,retry",number:"SBZ-EQCN200",message:{En_US:"Error connecting to the server, please try again later",Vi_VN:"Lỗi kết nối với máy chủ, vui lòng thử lại sau"}};function a(e){return(e||"").trim()}function c(e){return e&&"[object Function]"==={}.toString.call(e)}function h(e,t,r){if(!e||0===e.length)return r(t);var n=e.shift();if(!c(n))return h(e,t,r);n(t,(function(n){return!1===n?r(t):h(e,t,r)}))}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function d(e){if(!e)return"";for(var t=Object.keys(e),r=[],n=0;n<t.length;n++){var o=t[n],s="",i=e[o];if(void 0!==i){if(null===i)s=f(o);else if(Array.isArray(i)){for(var u=[],a=0;a<i.length;a++)void 0!==i[a]&&(u.push(y(o,i[a],u.length)),u.push(r));s=u.join("&")}else s=f(o)+"="+f(i);s.length>0&&r.push(s)}}return r.join("&")}function y(e,t){return null===t?f(e):[f(e),"=",f(t)].join("")}var l,p=(l={parser:"",beforehooks:[],afterhooks:[],baseurl:"",query:{},meta:{},clone:function(){return Object.assign({},this,{query:Object.assign({},this.query),meta:Object.assign({},this.meta)})},addQuery:function(e,t){var r=this.clone();return r.query[e]=t,r},removeQuery:function(e){var t=this.clone();return void 0!==t.query[e]&&(t.query[e]=void 0),t},withCredentials:function(e){return o(this,{_withCredentials:e})},setQuery:function(e){return o(this,{query:e})},clearHooks:function(){return o(this,{beforehooks:[],afterhooks:[]})},beforeHook:function(e){var t=this.beforehooks.slice();return t.push(e),o(this,{beforehooks:t})},afterHook:function(e){var t=this.afterhooks.slice();return t.push(e),o(this,{afterhooks:t})},setHeader:function(e){return(e=Object.assign({},this.headers,e))[t]=void 0,o(this,{headers:e})}},["put","head","patch","delete","post","get"].map((function(e){l[e]=function(f,y,l){return function(e,o,a){a=a||function(){},c(o)&&(a=o,o=void 0);var f,y=new Promise((function(e){f=function(t){try{a(t.error,t.body,t.code)}catch(e){}e(t)}}));return o&&((e=e.clone()).body=o,e.content_type===n&&(e.body=b.Jsonify(o)),e.content_type===r&&(e.body=d(o))),h(e.beforehooks.slice(),{request:e},(function(r){if(r.error)return f({body:void 0,code:0,error:r.error});!function(e,r){let n=d(e.query);if(n&&(n="?"+n),!b.XMLHttpRequest)return function(e,r,n){var o=Object.assign({},e.headers);e.content_type&&(o[t]=e.content_type),fetch(e.baseurl+n,{method:e.method,headers:o,credentials:e._withCredentials,body:e.body}).then((e=>e.text().then((t=>r(void 0,t,e.status))))).catch((e=>r("network_error",e,-1)))}(e,r,n);var o=new b.XMLHttpRequest;for(var s in o.onreadystatechange=function(e){4===o.readyState&&(0===o.status?r("network_error",o.responseText,o.status):r(void 0,o.responseText,o.status))},o.open(e.method,e.baseurl+n),o.withCredentials=e._withCredentials,e.headers)o.setRequestHeader(s,e.headers[s]);e.content_type&&o.setRequestHeader(t,e.content_type),o.send(e.body)}(r.request,(function(t,r,n){h(e.afterhooks.slice(),{request:e,code:n,body:r,err:t},(function(t){var r=t.body;if("network_error"!=o){if("json"==e.parser&&t.body)try{r=b.ParseJson(t.body)}catch(e){return void f({body:r,code:t.code,error:i})}var o=t.err;!o&&(n<200||n>299)&&(o=r&&r.error?r.error:u),f({body:r,code:t.code,error:o})}else f({body:r,code:t.code,error:s})}))}))})),y}(o(this,{method:e,baseurl:(p=this.baseurl,v=f,p=a(p),(v=a(v))&&p?v.startsWith("http://")||v.startsWith("https://")||v.startsWith("//")?v:(p.endsWith("/")||(p+="/"),v.startsWith("/")&&(v=v.substring(1)),p+v):p+v)}),y,l);var p,v}})),l.setBaseUrl=function(e){return o(this,{baseurl:e})},l.contentTypeJson=function(){return o(this,{content_type:n})},l.contentTypeForm=function(){return o(this,{content_type:r})},l.setContentType=function(e){return o(this,{content_type:a(e)})},l.setParser=function(e){return o(this,{parser:a(e)})},l.setBody=function(e){return o(this,{body:e})},l.setMeta=function(e,t){var r=this.clone();return r.meta[e]=t,r},l),b={Jsonify:JSON.stringify,ParseJson:JSON.parse};p.env=b,p.waterfall=h,e.exports=p}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(237);var e,t}));