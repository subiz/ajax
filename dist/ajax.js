!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.beta=t():e.beta=t()}("undefined"!=typeof self?self:this,(function(){return e={10:(e,t,r)=>{"use strict";var n=r(546);n.env.XMLHttpRequest=window.XMLHttpRequest,n.env.window=window,e.exports=n},546:e=>{var t="Content-Type",r="application/x-www-form-urlencoded",n="application/json; charset=utf-8";function o(e,t){return Object.assign(e.clone(),t)}var s=function(e,r,n){n&&(n="?"+n);var o=Object.assign({},e.headers);e.content_type&&(o[t]=e.content_type),fetch(e.baseurl+n,{method:e.method,headers:o,credentials:e._withCredentials,body:e.body}).then((e=>e.text().then((t=>r(void 0,t,e.status))))).catch((e=>r("network_error",e,-1)))},i=function(e,r,n){n&&(n="?"+n);var o=new y.XMLHttpRequest;for(var s in o.onreadystatechange=function(e){4===o.readyState&&(0===o.status?r("network_error",o.responseText,o.status):r(void 0,o.responseText,o.status))},o.open(e.method,e.baseurl+n),o.withCredentials=e._withCredentials,e.headers)o.setRequestHeader(s,e.headers[s]);e.content_type&&o.setRequestHeader(t,e.content_type),o.send(e.body)};function u(e){return(e||"").trim()}function a(e){return e&&"[object Function]"==={}.toString.call(e)}function c(e,t,r){if(!e||0===e.length)return r(t);var n=e.shift();if(!a(n))return c(e,t,r);n(t,(function(n){return!1===n?r(t):c(e,t,r)}))}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function h(e){if(!e)return"";for(var t=Object.keys(e),r=[],n=0;n<t.length;n++){var o=t[n],s="",i=e[o];if(void 0!==i){if(null===i)s=f(o);else if(Array.isArray(i)){for(var u=[],a=0;a<i.length;a++)void 0!==i[a]&&(r=null===i[a]?f(o):[f(o),"=",f(i[a])].join(""),u.push(r));s=u.join("&")}else s=f(o)+"="+f(i);s.length>0&&r.push(s)}}return r.join("&")}var d,p=(d={parser:"",beforehooks:[],afterhooks:[],baseurl:"",query:{},meta:{},isfetch:!1,clone:function(){return Object.assign({},this,{query:Object.assign({},this.query),meta:Object.assign({},this.meta)})},useFetch:function(e){var t=this.clone();return t.isFetch=!(!1===e),t},addQuery:function(e,t){var r=this.clone();return r.query[e]=t,r},removeQuery:function(e){var t=this.clone();return void 0!==t.query[e]&&(t.query[e]=void 0),t},withCredentials:function(e){return o(this,{_withCredentials:e})},setQuery:function(e){return o(this,{query:e})},clearHooks:function(){return o(this,{beforehooks:[],afterhooks:[]})},beforeHook:function(e){var t=this.beforehooks.slice();return t.push(e),o(this,{beforehooks:t})},afterHook:function(e){var t=this.afterhooks.slice();return t.push(e),o(this,{afterhooks:t})},setHeader:function(e){return(e=Object.assign({},this.headers,e))[t]=void 0,o(this,{headers:e})}},["put","head","patch","delete","post","get"].map((function(e){d[e]=function(t,f,d){return function(e,t,o){o=o||function(){},a(t)&&(o=t,t=void 0);var u,f=new Promise((function(e){u=function(t){try{o(t.error,t.body,t.code)}catch(e){}e(t)}}));return t&&((e=e.clone()).body=t,e.content_type===n&&(e.body=y.Jsonify(t)),e.content_type===r&&(e.body=h(t))),c(e.beforehooks.slice(),{request:e},(function(t){if(t.error)return u({body:void 0,code:0,error:t.error});var r=i;e.isfetch&&(r=s),r(t.request,(function(t,r,n){c(e.afterhooks.slice(),{request:e,code:n,body:r,err:t},(function(t){var r=t.body;if("json"==e.parser&&t.body)try{r=y.ParseJson(t.body)}catch(e){t.err=t.err||"invalid json"}var o=t.err;(n<200||n>299)&&(o="not 200"),u({body:r,code:t.code,error:o})}))}),h(e.query))})),f}(o(this,{method:e,baseurl:(p=this.baseurl,l=t,p=u(p),(l=u(l))&&p?l.startsWith("http://")||l.startsWith("https://")||l.startsWith("//")?l:(p.endsWith("/")||(p+="/"),l.startsWith("/")&&(l=l.substring(1)),p+l):p+l)}),f,d);var p,l}})),d.setBaseUrl=function(e){return o(this,{baseurl:e})},d.contentTypeJson=function(){return o(this,{content_type:n})},d.contentTypeForm=function(){return o(this,{content_type:r})},d.setContentType=function(e){return o(this,{content_type:u(e)})},d.setParser=function(e){return o(this,{parser:u(e)})},d.setBody=function(e){return o(this,{body:e})},d.setMeta=function(e,t){var r=this.clone();return r.meta[e]=t,r},d),y={XMLHttpRequest:{},Jsonify:JSON.stringify,ParseJson:JSON.parse};p.env=y,p.waterfall=c,e.exports=p}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(10);var e,t}));